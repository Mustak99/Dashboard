<app-header></app-header>

  <div class="bar">
    <div class="row">
      <div class="col bar-1">
        <div class="dropdown m-1">
          <button class="btn btn-warning sm overflow-visible dropdown-btn  " (click)="toggleDropdown()">
            Display
          </button>
          <div class="dropdown-menu" [ngClass]="{ 'show': isDropdownOpen }">
            <button class="dropdown-item dropdown-menu-list-btn" *ngFor="let key of buttonToDisplay()"
              (click)="toggleKeyDisplay(key)">
              {{ key }}
            </button>
          </div>
        </div>
      </div>
      <div class="col bar-2">
        <button class="btnActive" >{{activeCount}}</button>
        <button class="btnIdeal " >{{idealCount}}</button>
        <button class="btnDeactive ">{{stoppageCount}}</button>
      </div>
      <div class="col bar-3">
      </div>
    </div>
  </div>

    <div style="margin: auto;border: solid 1px; margin-top: 105px;">
    <div class="row " style="--bs-gutter-x: 0rem">
      <div class="col-md-2" style="width: fit-content;"  *ngFor="let MachineData of MachineDataArray">
        <div class="p-2  rounded  "  [ngStyle]="{'background-color': MachineData.status === 1 ? '#008000af' : (MachineData.status === 0 ? '#ff0000af' : '#a6a6a6')}">
          <div class=" machineName ">
            <p class="">{{ MachineData.Machine_id }}</p>
          </div>
          <div class="machineData">
            <table >
              <tr *ngFor="let keyValuePair of MachineData | keyvalue">
                <ng-container *ngIf="keyValuePair.key !== 'Machine_id' && keyVisibility[keyValuePair.key] ">
                  <th style="font-size: smaller; ">{{ keyValuePair.key }}</th>
                  <td style="font-size: smaller; text-align: right ;" >{{ keyValuePair.value }}</td>
                </ng-container>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </div>
 </div>