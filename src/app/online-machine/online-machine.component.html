<app-header></app-header>
<div class="bar">
  <div class="row">
    <div class="col bar-1">
      <div class="dropdown m-1">
        <button class="btn btn-warning sm overflow-visible dropdown-btn  " (click)="toggleDropdown()">
          Display
        </button>
        <div class="dropdown-menu" [ngClass]="{ 'show': isDropdownOpen }">
          <button class="dropdown-item dropdown-menu-list-btn" *ngFor="let key of buttonToDisplay()"
            (click)="toggleKeyDisplay(key)">
            {{ key }}
          </button>
        </div>
      </div>
    </div>
    <div class="col bar-2">
      <button class="btnActive">{{activeCount}}</button>
      <button class="btnIdeal ">{{idealCount}}</button>
      <button class="btnDeactive ">{{stoppageCount}}</button>
    </div>
    <div class="col bar-3">
    </div>
  </div>
</div>


<div class="row" style="margin: 105px 20px 0px 20px;display:grid;gap: 10px;grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));">
  <div class="col-md-2 p-2 rounded "  *ngFor="let MachineData of MachineDataArray" [ngStyle]="{'background-color': MachineData.status === 1 ? '#008000af' : (MachineData.status === 0 ? '#ff0000af' : '#a6a6a6')}">
    <div class=" machineName ">{{ MachineData.Machine_id }}</div>
    <div class="machineData">
      <div class="row" *ngFor="let keyValuePair of MachineData | keyvalue">
        <ng-container *ngIf="keyValuePair.key !== 'Machine_id' && keyVisibility[keyValuePair.key] ">
          <div class="col" style="  font-weight: bold;">{{ keyValuePair.key }}</div>
          <div class="col" style="font-size: smaller; text-align: right ;">{{ keyValuePair.value }}</div>
        </ng-container>
      </div>
    </div>
  </div>
</div>


